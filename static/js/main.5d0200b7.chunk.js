(this.webpackJsonpcovid19tracker=this.webpackJsonpcovid19tracker||[]).push([[0],{30:function(e,t,a){},39:function(e,t,a){e.exports=a(54)},44:function(e,t,a){},46:function(e,t,a){},49:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var n,r,o=a(0),c=a.n(o),s=a(31),i=a.n(s),l=(a(44),a(5)),u=a.n(l),d=a(11),m=a(9),f=(a(46),a(18)),p=a(20),b=a.n(p),g=(a(30),function(e){var t=e.data,a=Object(o.useRef)();return Object(o.useEffect)((function(){"undefined"!==typeof n&&n.destroy(),"[]"!==JSON.stringify(t)&&function(e){var t=a.current.getContext("2d");if("[]"!==JSON.stringify(e)){var r,o=Object(f.a)(e).map((function(e){var t=e[0].Date;return r=e[0].Country,new Date(t).toDateString()})),c=Object(f.a)(e).map((function(e){return e[0].Cases}));n=new b.a(t,{type:"line",data:{labels:o,datasets:[{label:"# of Covid-19 Occurences",data:c,backgroundColor:["rgba(123, 79, 52, 0.4)"],pointBackgroundColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)","rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)"],borderColor:["rgba(244, 244, 244, 0.4)"],borderWidth:1}]},options:{animation:{easing:"easeOutQuart"},title:{display:!0,text:r,fontSize:18,position:"left"},layout:{padding:{left:25,right:25}}}})}}(t)})),c.a.createElement("canvas",{className:"ctx",ref:a})}),y=function(e){var t=e.data,a=Object(o.useRef)();return Object(o.useEffect)((function(){"undefined"!==typeof r&&r.destroy(),"[]"!==JSON.stringify(t)&&function(e){var t=a.current.getContext("2d");if("[]"!==JSON.stringify(e)){var n;Object(f.a)(e).map((function(e){n=e[0].Country}));var o=JSON.parse(sessionStorage.getItem("summaryData")).Countries.find((function(e){return e.Country===n})),c=o.TotalConfirmed,s=o.TotalRecovered,i=o.TotalDeaths;r=new b.a(t,{type:"bar",data:{labels:["Confirmed","Recoverd","Deaths"],datasets:[{label:"# of people",data:[c,s,i],backgroundColor:["rgba(54, 162, 235, 0.2)","rgba(134, 252, 114, 0.2)","rgba(255, 99, 132, 0.2)"],borderColor:["rgba(54, 162, 235, 1)","rgba(134, 252, 114, 1)","rgba(255, 99, 132, 1)"],borderWidth:1}]},options:{layout:{padding:{left:25,right:25}}}})}}(t)})),c.a.createElement("canvas",{ref:a,className:"ctx"})},v=(a(49),a(65)),C=function(e){var t=e.options,a=e.setCountry,n=Object(o.useState)(!1),r=Object(m.a)(n,2),s=r[0],i=r[1],l=Object(o.useRef)();return Object(o.useEffect)((function(){l.current.disabled=s}),[s]),c.a.createElement(c.a.Fragment,null,c.a.createElement("select",{ref:l,className:"dropdown",type:"text",onChange:function(e){var n=t.find((function(t){return t.country===e.target.value}));console.log(n.slug),i(!0),setTimeout((function(){a(n.slug),i(!1)}),3500)}},t.map((function(e,t){return c.a.createElement("option",{value:e.country,key:t},e.country)}))),s?c.a.createElement(v.a,null):null)},h=a(69),E=a(71),x=a(67),S=a(68),O=a(66),j=Object(O.a)({boxStyles:{padding:"1em 0em 0 0",margin:"0em 144px",display:"flex",justifyContent:"space-between",alignItems:"center"},cardStyles:{width:"325px",height:"100px",display:"flex",justifyContent:"center",alignItems:"center",color:"rgba(255, 255, 255, 0.8)",fontSize:"18px"},confirmedCard:{border:"1px solid rgba(54, 162, 235, 0.5)",backgroundColor:"rgba(54, 162, 235, 0.5)"},recoveredCard:{border:"1px solid rgba(134, 252, 114, 0.5)",backgroundColor:"rgba(134, 252, 114, 0.5)"},deathsCard:{border:"1px solid rgba(255, 99, 132, 0.5)",backgroundColor:"rgba(255, 99, 132, 0.5)"}}),w=function(e){var t=e.summaryData,a=j(),n=t.Global,r=n.TotalConfirmed,o=n.TotalDeaths,s=n.TotalRecovered;return c.a.createElement(h.a,{className:a.boxStyles},c.a.createElement(E.a,{className:[a.cardStyles,a.confirmedCard]},c.a.createElement(x.a,null,c.a.createElement(S.a,{variant:"h4"},r),c.a.createElement(S.a,{display:"inline"},"Confirmed Cases Worldwide"))),c.a.createElement(E.a,{className:[a.cardStyles,a.recoveredCard]},c.a.createElement(x.a,null,c.a.createElement(S.a,{variant:"h4"},s),c.a.createElement(S.a,{display:"inline"},"Recovered Cases Worldwide"))),c.a.createElement(E.a,{className:[a.cardStyles,a.deathsCard]},c.a.createElement(x.a,null,c.a.createElement(S.a,{variant:"h4"},o),c.a.createElement(S.a,{display:"inline"},"Deaths Worldwide"))))},D=Object(O.a)({boxStyles:{padding:"1em 0em 2em 0",margin:"0em 144px",display:"flex",justifyContent:"space-between",alignItems:"center"},cardStyles:{backgroundColor:"rgba(0,0,0,0.2)",width:"325px",height:"150px",display:"flex",justifyContent:"center",alignItems:"center",color:"rgba(255, 255, 255, 0.8)",fontSize:"18px"},confirmedCard:{border:"1px solid rgba(54, 162, 235, 0.5)"},recoveredCard:{border:"1px solid rgba(134, 252, 114, 0.5)"},deathsCard:{border:"1px solid rgba(255, 99, 132, 0.5)"}}),N=function(e){var t=e.summaryData,a=e.country,n=D();if(void 0===a)return c.a.createElement(c.a.Fragment,null);var r=t.Countries.find((function(e){return e.Slug===a})),o=r.TotalConfirmed,s=r.TotalDeaths,i=r.TotalRecovered;return c.a.createElement(h.a,{className:n.boxStyles},c.a.createElement(E.a,{className:[n.cardStyles,n.confirmedCard]},c.a.createElement(x.a,null,c.a.createElement(S.a,{variant:"h4"},o),c.a.createElement(S.a,{display:"inline"},"Confirmed Cases in ",r.Country))),c.a.createElement(E.a,{className:[n.cardStyles,n.recoveredCard]},c.a.createElement(x.a,null,c.a.createElement(S.a,{variant:"h4"},i),c.a.createElement(S.a,{display:"inline"},"Recovered Cases in ",r.Country))),c.a.createElement(E.a,{className:[n.cardStyles,n.deathsCard]},c.a.createElement(x.a,null,c.a.createElement(S.a,{variant:"h4"},s),c.a.createElement(S.a,{display:"inline"},"Deaths in ",r.Country))))},k="https://api.covid19api.com",T=function(){var e=Object(d.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t="".concat(k,"/summary"),!sessionStorage.getItem("summaryData")){e.next=5;break}a=JSON.parse(sessionStorage.getItem("summaryData")),e.next=11;break;case 5:return e.next=7,fetch(t);case 7:return e.next=9,e.sent.json();case 9:a=e.sent,sessionStorage.setItem("summaryData",JSON.stringify(a));case 11:return e.abrupt("return",a);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(e){return e.Countries.map((function(e){return{country:e.Country,slug:e.Slug}}))},J=function(){var e=Object(d.a)(u.a.mark((function e(t,a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(a.slice(-8,a.length).map(function(){var e=Object(d.a)(u.a.mark((function e(a){var n,r,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new Date(a)).setDate(a.getDate()+1),r="".concat(k,"/total/country/").concat(t,"/status/confirmed?from=").concat(a.toISOString(),"&to=").concat(n.toISOString()),e.next=5,fetch(r).then((function(e){return e.json()}));case 5:return o=e.sent,e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),R=function(e){var t=new Date(e);t.setDate(t.getDate()-3);var a=[t],n=new Date(t);n.setUTCDate(1),n.setUTCHours(0),n.setUTCMinutes(0),n.setUTCSeconds(0);for(var r=0;r<7;r++)console.log(n),n.toISOString()!==e.toISOString()&&a.push(new Date(n)),n.setUTCHours(0),n.setUTCMonth(n.getUTCMonth()-1);return console.log(a),[].concat(a).reverse()},U=Object(O.a)({dropdownContainerStyles:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",margin:"0 144px",padding:"1em 0em 0em 0em"},titleStyles:{padding:"0.5em 144px 0 144px "}});var W=function(){var e=U(),t=Object(o.useState)({}),a=Object(m.a)(t,2),n=a[0],r=a[1],s=Object(o.useState)(!1),i=Object(m.a)(s,2),l=i[0],f=i[1],p=Object(o.useState)(void 0),b=Object(m.a)(p,2),v=b[0],E=b[1],x=Object(o.useState)([]),O=Object(m.a)(x,2),j=O[0],D=O[1],k=Object(o.useState)(!1),W=Object(m.a)(k,2),M=W[0],z=W[1];return Object(o.useEffect)((function(){(function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.next=3,T();case 3:e.t1=e.sent,(0,e.t0)(e.t1),f(!0),E("afghanistan");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(o.useEffect)((function(){}),[l]),Object(o.useEffect)((function(){l&&function(){var e=Object(d.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Date,a=R(t),e.t0=D,e.next=5,J(v,a);case 5:e.t1=e.sent,(0,e.t0)(e.t1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[v]),c.a.createElement("div",{className:"App"},c.a.createElement("header",{className:"App-header"},l?c.a.createElement(c.a.Fragment,null,c.a.createElement(S.a,{variant:"h5",className:e.titleStyles},"Covid-19 Tracking Application"),c.a.createElement(w,{summaryData:n}),c.a.createElement(S.a,{variant:"caption"},"Updated as of ",n.Date),c.a.createElement(h.a,{className:e.dropdownContainerStyles},c.a.createElement(S.a,{variant:"body1"},"Please select a country: "),c.a.createElement(C,{options:I(n),setCountry:E,setDisabled:z,disabled:M})),c.a.createElement(N,{summaryData:n,country:v}),c.a.createElement("div",{className:"flexbox"},c.a.createElement(g,{data:j}),c.a.createElement(y,{data:j}))):null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(W,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[39,1,2]]]);
//# sourceMappingURL=main.5d0200b7.chunk.js.map